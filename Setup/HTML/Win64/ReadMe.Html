<html>
<head>
<title>Microsoft Platform SDK - Win64 ReadMe
</title>
<style type="text/css">
<!--
.sidenav {
  color:#ffffff;
  text-decoration:none;
}
a:hover {
  color:#cc0000;
}
-->
</style>
</head>
<body bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#800080" alink="#cc0000" TOPMARGIN=0>
<!-- Begin datestamp table -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top" align="right">
<td width="100%">
<font face="Verdana, Arial, Helvetica" size="2" color="#666666">
March 1999
</font>
</td>
</tr>
</table>
<!-- End datestamp table -->
<!-- Begin Body Table -->
<!-- Start Full-Bleed Header Graphics with Standard Top Navigation-->
<tr valign="top">
<!-- Start Main Content Cell -->
<td width="100%">
<p>
<h1>Preliminary Platform SDK support for Win64(tm)
</h1>
<p>This release of the Preliminary Platform SDK will allow you to test compile your code for Win64. It supports the new 64-bit data types and pre-beta releases of an IA64 compiler and an ALPHA64 compiler and linker.
<p>In order to get the correct compile time flags to test your code, you should include Win32.mak in your makefiles. Win32.mak is in the \mssdk\include directory of the CD and will be in 
<SDK-DIR>\include after you install the SDK.  If you do not use
 Win32.Mak then you will need to modify your compiler command line appropriately. 
<em>-Wp64
</em> and 
<em>-Ap64
</em> compiler switches are introduced to detect 64-bit specific warnings. They are usually used with 
<em>-W3
</em> compiler switch for Win64
(tm).  Please see Win32.Mak for details. Note that many SDK samples do not yet use Win32.Mak (directly or via BkOffice.Mak, INetSDK.Mak, etc.) and therefore cannot be compiled for Win64 without makefile changes.
<p>To use the Win64 compiler (Assuming the SDK is installed to D:\MSSDK):
<p>You have to install:
<ul>
<li>Windows 2000 Beta 3 RC1
<li>Visual C++ 6.0
</li>  
</ul>
<p>You will find D:\MSSDK\SetWin64.Bat. Run these commands from a command window.
<blockquote>cd /D D:\MSSDK
<br>
SetWin64 D:\MSSDK
</blockquote>
<p>You should see this message on x86:
<dl>
<dt>D:\MSSDK&gt;SetWin64
<dd>Setting SDK environment relative to D:\MSSDK 
        targeting IA64 for Win64 testing.
</dd>          
</dl>
<p>On alpha, you will get the same message but targeting ALPHA64. 
<p>If you do not see this message, follow the instructions in the message to address the problem. Re-run setwin64.bat to get this message.
<p>Running SetWin64.bat sets the CPU environment variable to IA64 when testing on x86 and ALPHA64 when testing on alpha. It also sets your environment variables so that 
<SDK-DIR>\bin\win64 is first on the executable path and 
<SDK-DIR>\include is firs
t on the include path.
<p>During compilation, you'll typically see typical warnings where code is not properly handling 64-bit data.
<p>warning C4305: 'return' : truncation from 'unsigned __int64 ' to 'long '
<br>
warning C4311: 'type cast' : pointer truncation from 'int *__ptr64 ' to 'int ' 
<br>
warning C4312: 'type cast' : conversion from 'int ' to 'int *__ptr64 ' of greater size 
<br>
warning C4313: 'printf' : '%p' in format string conflicts with argument 2 of type '__int64 ' 
<br>
warning C4318: passing constant zero as the length to memset 
<br>
warning C4319: '~' : zero extending 'unsigned long ' to 'unsigned __int64 ' of greater size 
<br>
warning C4242: '=' : conversion from 'unsigned int' to 'unsigned short', possible loss of data 
<br>
warning C4244: 'return' : conversion from '__int64' to 'unsigned int', possible loss of data 
<br>
<p>Please send your questions and feedbacks to 
<A href="mailto:nt64feed@microsoft.com">nt64feed@microsoft.com
</a>.
</p>
</body>
</html>
